<!! THIS IS THE index.html THAT WE ENDED UP WITH BY THE END OF CLASS>

<script src='lib/lib1.js'></script>
<script src='lib/socket.io.js'></script>
<script src='js/receiver.js'></script>
<script> var IS_PLAYING = false; </script>
<body bgcolor=black style="margin: 0; padding: 0;">
<center>
<canvas id='canvas1' width='600' height='600'>
</canvas>
</center>
</body>


<!!=================================================================
   VERTEX SHADER: runs once per triangle vertex.
------------------------------------------------------------------->

<script id='vs' type='other'>
   attribute vec3 aPosition;
   varying   vec3 vPosition;
   void main() {
      gl_Position = vec4(aPosition, 1.0);
      vPosition = aPosition;
   }
</script>


<!!=================================================================
    FRAGMENT SHADER: runs once per pixel fragment.

   Your assignment is to write your own interesting version of the
   fragment shader program.  Try to have fun with it -- use "uTime"
   to create animated patterns, and "uCursor" to make it responsive
   to a user's mouse gestures.

   DO NOT just hand in a variation of what I did in class!  I expect
   you to create something original.
.------------------------------------------------------------------>

<script id='fs' type='other'>
   precision mediump float;
   uniform float uTime;
   uniform vec3  uCursor;
   varying vec3  vPosition;

   // COMPUTE THE Z FOR A SPHERE OF RADIUS r.

   float computeZ(vec2 xy, float r) {
      //float zz = 1.0 - sqrt(xy.x*xy.y + xy.x*xy.y) ;
      float zz = xy.x / xy.y;
         return zz;
   }

   void main() {
      float x = vPosition.x;
      float y = vPosition.y;
      float z = computeZ(vPosition.xy, 1.0);

      // BACKGROUND SHADE IS JUST BLACK (ZERO).
      float s = 0.5;
      if(mod(x, 2.0) < 1.0 && mod(y, 2.0) < 1.0){
       s = 1.0;  
      }else{
         s = 0.0;
      }

      //s = mod(x, 2.0) * 0.1 + mod(y, 2.0) * 0.15 + cos(mod(uTime, 10.0)) + sin(mod(uTime, 9.0));
      s = z;
      

      // IF WE ARE IN THE SPHERE, THEN SHADE IT.

      if (z > 0.) {

         // START WITH DARK SHADE.

         s = 0.5;

         // ADD CRAZY ANIMATED "WOODGRAIN" TEXTURE.

         s *= 0.8 + (0.2 * tan(uTime)) - sin(x*uTime) - sin(y*uTime);
      }else{
         s *= 0.8 + (0.2 * tan(uTime)) - cos(y*uTime) - sin(x*uTime);
      }

      // MULTIPY SHADE BY "WOOD" COLOR.

      gl_FragColor = vec4(s * vec3(0.9, 0.9, 0.9), 1.);
   }
</script>


<script>
	var cnv = document.getElementById("canvas1");
	cnv.width = window.innerWidth;
	cnv.height = window.innerHeight;
</script>

